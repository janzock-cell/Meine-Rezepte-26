
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azubi Rezepte Sammlung</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
    <script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^0.14.0",
    "@jest/globals": "https://aistudiocdn.com/@jest/globals@^30.2.0",
    "@netlify/functions": "https://aistudiocdn.com/@netlify/functions@^5.1.0"
  }
}
</script>
    <script type="module" src="index.js"></script>
<link rel="stylesheet" href="/index.css">
</head>
<body>
    <div id="app-container">
        <header>
            <div class="header-main">
                <h1>üç≥ Azubi Rezepte Sammlung</h1>
                <div class="header-actions">
                    <button id="browse-recipes-btn">Rezepte durchbl√§ttern</button>
                    <button id="add-recipe-btn">Rezept hinzuf√ºgen</button>
                    <button id="view-saved-btn">
                        Gespeicherte Rezepte <span id="saved-count-badge" class="hidden">0</span>
                    </button>
                    <div class="theme-switch-wrapper">
                        <label class="theme-switch" for="theme-toggle">
                            <input type="checkbox" id="theme-toggle" aria-label="Toggle dark mode">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
            </div>
            <p>Einfache & g√ºnstige Rezepte f√ºr Lehrlinge</p>
        </header>
        <main>
            <form id="recipe-form">
                <div class="form-group">
                    <label for="prompt-input">Was m√∂chtest du kochen?</label>
                    <div class="input-with-button">
                        <input type="text" id="prompt-input" name="prompt" placeholder="z.B. H√§hnchen mit Reis oder schnelle Nudeln" required>
                        <button type="button" id="ocr-button" aria-label="Zutaten aus Foto erkennen">üì∏</button>
                    </div>
                    <input type="file" id="ocr-input" class="hidden" accept="image/*">
                </div>

                <div class="form-options">
                    <div class="form-group">
                        <label for="difficulty-select">Schwierigkeitsgrad</label>
                        <select id="difficulty-select" name="difficulty">
                            <option value="Anf√§nger" selected>Anf√§nger</option>
                            <option value="Fortgeschritten">Fortgeschritten</option>
                            <option value="Experte">Experte</option>
                        </select>
                    </div>
                    <div class="form-group">
                         <label for="servings-input">Portionen</label>
                         <input type="number" id="servings-input" name="servings" value="2" min="1" max="20">
                    </div>
                    <div class="form-group" style="grid-column: 1 / -1;">
                        <label for="wishes-input">Zutaten oder W√ºnsche (optional)</label>
                        <textarea id="wishes-input" name="wishes" rows="3" placeholder="z.B. vegetarisch, mit H√§hnchen, ohne N√ºsse"></textarea>
                    </div>
                </div>

                <button type="submit" id="generate-button">Rezept generieren</button>
            </form>
            <div id="recipe-actions-container" class="hidden"></div>
            <div id="draft-notification" class="hidden">
                <span>Sie haben einen nicht gespeicherten Entwurf.</span>
                <div>
                    <button id="restore-draft-btn">Wiederherstellen</button>
                    <button id="dismiss-draft-btn" class="secondary-btn">Verwerfen</button>
                </div>
            </div>
            <div id="loading-indicator" class="hidden" role="status" aria-live="polite">
                <div class="cooking-pot">
                    <div class="pot-body"></div>
                    <div class="pot-lid"></div>
                    <div class="steam">
                        <div class="steam-bubble"></div>
                        <div class="steam-bubble"></div>
                        <div class="steam-bubble"></div>
                    </div>
                </div>
                <span>Kocht ein leckeres Rezept f√ºr dich...</span>
            </div>
            <div id="recipe-output" aria-live="assertive"></div>
        </main>
    </div>

    <!-- Browse Recipes Modal -->
    <div id="browse-recipes-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button id="close-browse-modal-btn" class="close-btn" aria-label="Rezeptideen schlie√üen">&times;</button>
            <h2>Rezeptideen durchbl√§ttern</h2>
            <div id="browse-recipes-list">
                <!-- Recipe ideas will be injected here -->
            </div>
        </div>
    </div>

    <!-- Saved Recipes Modal -->
    <div id="saved-recipes-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button id="close-modal-btn" class="close-btn" aria-label="Gespeicherte Rezepte schlie√üen">&times;</button>
            <h2>Gespeicherte Rezepte</h2>
            <input type="text" id="saved-recipes-search" placeholder="Suche nach Rezepten oder Zutaten..." aria-label="Rezepte suchen">
            <div id="saved-recipes-list">
                <!-- Saved recipes will be injected here -->
            </div>
        </div>
    </div>

    <!-- Add Recipe Modal -->
    <div id="add-recipe-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button id="close-add-modal-btn" class="close-btn" aria-label="Formular zum Hinzuf√ºgen von Rezepten schlie√üen">&times;</button>
            <h2>Eigenes Rezept hinzuf√ºgen</h2>
            <form id="add-recipe-form">
                <div class="image-import-section">
                    <button type="button" id="import-from-image-btn">Rezept aus Bild importieren üì∏</button>
                    <input type="file" id="import-image-input" class="hidden" accept="image/*">
                    <small>Lade ein Foto deines Rezepts hoch, um die Felder automatisch auszuf√ºllen.</small>
                </div>
                <hr class="form-divider">
                <div class="form-group">
                    <label for="add-recipe-name">Rezeptname</label>
                    <input type="text" id="add-recipe-name" required>
                </div>
                <div class="form-group">
                    <label for="add-recipe-description">Beschreibung</label>
                    <textarea id="add-recipe-description" rows="3" required></textarea>
                </div>
                 <div class="form-group">
                    <label for="add-recipe-ingredients">Zutaten (eine pro Zeile)</label>
                    <textarea id="add-recipe-ingredients" rows="5" required></textarea>
                </div>
                 <div class="form-group">
                    <label for="add-recipe-instructions">Anleitung (ein Schritt pro Zeile)</label>
                    <textarea id="add-recipe-instructions" rows="7" required></textarea>
                </div>
                 <div class="form-group">
                    <label for="add-recipe-image">Foto hinzuf√ºgen (optional)</label>
                    <input type="file" id="add-recipe-image" accept="image/*">
                </div>
                <button type="submit" id="save-manual-recipe-btn">Rezept speichern</button>
            </form>
        </div>
    </div>
<script type="module" src="/index.tsx"></script>
</body>
</html>
